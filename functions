# Generate a random secure password
function genpasswd() {
    length=$1
    if [ -z $length ]; then length=20; fi
    if [[ `uname` == "Darwin" ]]; then
        LC_ALL=C tr -dc A-Za-z0-9_ < /dev/urandom | head -c ${length} | xargs
    elif [[ `uname` == "Linux" ]]; then
        tr -dc A-Za-z0-9_ < /dev/urandom | head -c ${length} | xargs
    fi
}

# PHP Composer docker container
function composer() {
    echo "Current working directory: '"$(pwd)"'"
    # cd $DEVELOPMENT_PATH && docker-compose run composer
    # cd $DEVELOPMENT_PATH/docker && docker-compose run composer composer $@
    docker run --rm -v $(pwd):/app -v ~/.ssh:/root/.ssh -l docker_db composer/composer $@
}

# Run commands inside docker containers to keep your OS untouched using alias
function docker_alias() {
    docker run -it --rm \
        -v $(pwd):$1 -w $1 \
        ${@:2}
}
function docker_start() {
    docker-machine start dev-nfs
    eval $(docker-machine env dev-nfs)
    cd $DEVELOPMENT_PATH/docker
    docker-compose up -d
}
function docker_stop() {
    cd $DEVELOPMENT_PATH/docker
    docker-compose stop
    docker-machine stop dev-nfs
}

# List commands from commandlinefu website
function cmdfu() {
    curl "http://www.commandlinefu.com/commands/matching/$(echo "$@" \
    | sed 's/ /-/g')/$(echo -n $@ | base64)/plaintext" ;
}

# Is website down for everyone or just me ?
function down4me() {
    curl -s "http://www.isup.me/$1" | sed '/just you/!d;s/<[^>]*>//g';
}

# Dict protocol
function dico() { curl -s dict://dict.org/d:${1}:wn | sed '/^[1-2]/d' | sed '$d'; }
function dicofr() { curl -s dict://dict.org/d:${1}:fd-eng-fra | sed '/^[1-2]/d' | sed '$d'; }

function gitcheck (){
    docker run --rm -v `pwd`:/files:ro badele/alpine-gitcheck
}