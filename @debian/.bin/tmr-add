#!/bin/sh

# Mimeapp script for adding torrent to transmission-daemon, but will also start the daemon first if not running.
# Credits: https://github.com/LukeSmithxyz/voidrice

# transmission-daemon sometimes fails to take remote requests in its first moments.
pgrep -x transmission-da || (transmission-daemon && notify-send -i transmission Transmission "Starting daemon..." && sleep 3)
transmission-remote -a "$@" && notify-send -i transmission Transmission "Torrent added."
