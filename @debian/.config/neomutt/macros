# Macros
set mark_macro_prefix = ","

# U: Open URLs with urlscan (https://github.com/firecat53/urlscan)
macro index,pager U '<enter-command>set pipe_decode = yes<enter><pipe-message>urlscan -dc -r "linkhandler {}"<enter><enter-command>set pipe_decode = no<enter>'

# W: Save selected attachment (set $attach_save_dir var to specify which dir)
macro attach W "<save-entry><bol><eol>" "Save to downloads folder"

# A: Attach files with Ranger file manager (press Space to select file(s) then Enter)
macro compose A "<shell-escape>neomutt-picker<enter><enter-command>source /tmp/neomutt-attachments<enter>" "Attach with Ranger"

# Gmail keyboard shortcuts
macro index gi "<change-folder>=INBOX<enter>" "Go to inbox"
# macro index ga "<change-folder>=[Gmail]/All Mail<enter>" "Go to all mail"
# macro index gd "<change-folder>=[Gmail]/Drafts<enter>" "Go to drafts"
# macro index gs "<change-folder>=[Gmail]/Starred<enter>" "Go to starred messages"
# macro index gt "<change-folder>=[Gmail]/Trash<enter>" "Go to trash"
# macro index,pager d "<save-message>=[Gmail]/Trash<enter><enter>" "Trash"
# macro index,pager y "<save-message>=[Gmail]/All Mail<enter><enter>" "Archive"

# macro index s '<sync-mailbox>y'