[module/distrib]
type = custom/text
content = ${root.logo}
content-padding = 1
content-foreground = ${colors.base00}
content-background = ${colors.base04}


[module/openweathermap]
type = custom/script
interval = 60
exec = ~/.local/bin/openweathermap --icon-weather


[module/packages]
type = custom/script
interval = 60
exec = ~/.local/bin/check-packages -s


[module/picom]
type = custom/ipc
hook-0 = echo 
hook-1 = echo 
click-left = ~/.local/bin/toggle-picom
initial = 1


[module/dunst]
type = custom/ipc
hook-0 = echo 
hook-1 = echo 
click-left = ~/.local/bin/toggle-dunst
initial = 1
format-foreground = ${colors.base04}

[module/redshift]
type = custom/ipc
hook-0 = redshift-cli -a
hook-1 = redshift-cli -t && redshift-cli -a
hook-2 = redshift-cli -u && redshift-cli -a
hook-3 = redshift-cli -d && redshift-cli -a
initial = 1
# Toggle on/off on left click.
click-left = polybar-msg -p %pid% action "#redshift.hook.1"
# Increase color temperature on scroll up.
scroll-up = polybar-msg -p %pid% action "#redshift.hook.2"
# Decrease color temperature on scroll down.
scroll-down = polybar-msg -p %pid% action "#redshift.hook.3"
# IPC does not support interval right now
# https://github.com/polybar/polybar/issues/1127
[module/redshift_i]
type = custom/script
interval = 60
exec = polybar-msg action "#redshift.hook.0" >/dev/null

[module/scrobbler]
type = custom/script
interval = 5
exec = ~/.local/bin/scrobbler --status
click-left = ~/.local/bin/scrobbler --toggle


[module/sysmenu]
type = custom/text
content = "%{F000}%{F-}"
content-background = ${colors.base04}
content-foreground = ${colors.base01}
content-padding = 1


[module/checknetwork]
type = custom/script
exec = ~/.local/bin/check-network
tail = true
interval = 5
